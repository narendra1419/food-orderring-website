
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - REX Food Delivery</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="assets/css/consolidated-styles.css" as="style">
    <link rel="preload" href="assets/js/app-optimized.js" as="script">
    
    <!-- External fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Consolidated Stylesheet -->
    <link rel="stylesheet" href="assets/css/consolidated-styles.css">
    
    <!-- Meta tags for SEO -->
    <meta name="description" content="Browse our delicious menu at REX Food Delivery">
    <meta name="keywords" content="menu, food delivery, south indian, biryani, dosa">
    <meta name="author" content="TEAM REX">
</head>

<body>
    <!-- Background Video -->
    <video id="background-video" autoplay muted loop playsinline>
        <source src="pan.mp4" type="video/mp4">
        <!-- Fallback for browsers that don't support video -->
        Your browser does not support the video tag.
    </video>

    <!-- Reusable Header Component -->
    <div id="header-container"></div>


    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Authentic South Indian Cuisine</h1>
            <p>Experience the true flavors of TEAM REX</p>
            <div class="hero-buttons">
                <a href="#menu" class="btn btn-primary">Browse Menu</a>
                <a href="#order" class="btn btn-outline">View Cart</a>
                <button class="btn btn-secondary" id="manage-orders-btn">
                    <i class="fas fa-shopping-cart"></i> Manage Orders
                </button>
            </div>
        </div>
    </section>

    <!-- Order Management Panel -->
    <div id="order-management-panel" class="order-management-panel hidden">
        <div class="panel-header">
            <h3><i class="fas fa-tasks"></i> Order Management</h3>
            <button class="close-panel" id="close-panel-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="panel-content">
            <!-- Active Order Section -->
            <div class="section">
                <h4>Current Order: <span id="current-order-name">Default</span></h4>
                <div class="current-order-actions">
                    <button class="btn btn-sm btn-primary" id="create-new-order-btn">
                        <i class="fas fa-plus"></i> New Order
                    </button>
                    <button class="btn btn-sm btn-secondary" id="duplicate-order-btn">
                        <i class="fas fa-copy"></i> Duplicate
                    </button>
                    <button class="btn btn-sm btn-success" id="save-template-btn">
                        <i class="fas fa-save"></i> Save as Template
                    </button>
                </div>
            </div>

            <!-- All Orders Section -->
            <div class="section">
                <h4>All Orders</h4>
                <div id="orders-list" class="orders-list">
                    <!-- Orders will be populated here -->
                </div>
            </div>

            <!-- Templates Section -->
            <div class="section">
                <h4>Order Templates</h4>
                <div class="template-actions">
                    <button class="btn btn-sm btn-info" id="refresh-templates-btn">
                        <i class="fas fa-sync"></i> Refresh
                    </button>
                </div>
                <div id="templates-list" class="templates-list">
                    <!-- Templates will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Template Save Modal -->
    <div id="template-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Save as Template</h3>
                <button class="modal-close" data-modal="template-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="template-name">Template Name:</label>
                    <input type="text" id="template-name" placeholder="Enter template name">
                </div>
                <div class="template-preview">
                    <h4>Items in current order:</h4>
                    <div id="template-items-preview"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="save-template-confirm-btn">Save Template</button>
                <button class="btn btn-secondary" data-modal="template-modal">Cancel</button>
            </div>
        </div>
    </div>


    <!-- Main Content -->
    <main class="container">
        <div class="order-grid">
            <!-- Menu Section -->
            <section class="menu-section" id="menu">
                <h2>Our Special Menu</h2>
                
                <!-- Breakfast Section -->
                <div class="menu-category">
                    <h3>Breakfast Specials</h3>
                    
                    <div class="menu-item">
                        <img src="https://images.pexels.com/photos/5560763/pexels-photo-5560763.jpeg" alt="Sambar Idli">
                        <div class="item-info">
                            <h4>Sambar Idli (2 pieces)</h4>
                            <p>Soft steamed rice cakes served with aromatic sambar and coconut chutney</p>
                            <div class="item-controls">
                                <span class="price">₹50</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item">
                        <img src="pexels-saveurssecretes-12392915.jpg" alt="Masala Dosa">
                        <div class="item-info">
                            <h4>Masala Dosa</h4>
                            <p>Crispy fermented crepe stuffed with spiced potato filling</p>
                            <div class="item-controls">
                                <span class="price">₹80</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item">
                        <img src="pexels-jack-baghel-2199968-20422121.jpg" alt="Plain Dosa">
                        <div class="item-info">
                            <h4>Plain Dosa</h4>
                            <p>Traditional crispy crepe made from fermented rice and lentil batter</p>
                            <div class="item-controls">
                                <span class="price">₹60</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item">
                        <img src="pexels-ali-dashti-506667798-28241675.jpg" alt="Medu Vada">
                        <div class="item-info">
                            <h4>Medu Vada (2 pieces)</h4>
                            <p>Crispy lentil doughnuts served with sambar and chutney</p>
                            <div class="item-controls">
                                <span class="price">₹55</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item">
                        <img src="pexels-saveurssecretes-12392915.jpg" alt="Puri">
                        <div class="item-info">
                            <h4>Puri Bhaji</h4>
                            <p>Fluffy fried bread served with potato curry</p>
                            <div class="item-controls">
                                <span class="price">₹65</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Dishes -->
                <div class="menu-category">
                    <h3>Lunch & Dinner</h3>
                    
                    <div class="sub-category">
                        <h4>Vegetarian Specials</h4>
                        
                        <div class="menu-item">
                            <img src="veg.jpeg" alt="Vegetable Biryani">
                            <div class="item-info">
                                <h4>Vegetable Biryani</h4>
                                <p>Fragrant basmati rice cooked with mixed vegetables and spices</p>
                                <div class="item-controls">
                                    <span class="price">₹180</span>
                                    <button class="add-to-cart">Add to Cart</button>
                                </div>
                            </div>
                        </div>

                        <div class="menu-item">
                            <img src="pexels-prabal-9609859.jpg" alt="Paneer Biryani">
                            <div class="item-info">
                                <h4>Paneer Biryani</h4>
                                <p>Flavorful rice dish with cubes of fresh cottage cheese</p>
                                <div class="item-controls">
                                    <span class="price">₹220</span>
                                    <button class="add-to-cart">Add to Cart</button>
                                </div>
                            </div>
                        </div>

                        <div class="menu-item">
                            <img src="mush.webp" alt="Mushroom Biryani">
                            <div class="item-info">
                                <h4>Mushroom Biryani</h4>
                                <p>Exotic biryani made with fresh mushrooms and spices</p>
                                <div class="item-controls">
                                    <span class="price">₹200</span>
                                    <button class="add-to-cart">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sub-category">
                        <h4>Non-Vegetarian Specials</h4>
                        
                        <div class="menu-item">
                            <img src="https://images.pexels.com/photos/1624487/pexels-photo-1624487.jpeg" alt="Chicken Biryani">
                            <div class="item-info">
                                <h4>Chicken Biryani</h4>
                                <p>Hyderabadi-style dum biryani with tender chicken pieces</p>
                                <div class="item-controls">
                                    <span class="price">₹240</span>
                                    <button class="add-to-cart">Add to Cart</button>
                                </div>
                            </div>
                        </div>

                        <div class="menu-item">
                            <img src="mutton.jpeg" alt="Mutton Biryani">
                            <div class="item-info">
                                <h4>Mutton Biryani</h4>
                                <p>Rich and flavorful biryani with tender mutton pieces</p>
                                <div class="item-controls">
                                    <span class="price">₹280</span>
                                    <button class="add-to-cart">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Fried Rice Section -->
                <div class="menu-category">
                    <h3>Fried Rice & Noodles</h3>
                    
                    <div class="menu-item">
                        <img src="fried veg.jpeg" alt="Vegetable Fried Rice">
                        <div class="item-info">
                            <h4>Vegetable Fried Rice</h4>
                            <p>Stir-fried rice with fresh seasonal vegetables</p>
                            <div class="item-controls">
                                <span class="price">₹150</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item">
                        <img src="egg fried.jpeg" alt="Egg Fried Rice">
                        <div class="item-info">
                            <h4>Egg Fried Rice</h4>
                            <p>Fried rice with scrambled eggs and vegetables</p>
                            <div class="item-controls">
                                <span class="price">₹170</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-item">
                        <img src="chicken fried.jpeg" alt="Chicken Fried Rice">
                        <div class="item-info">
                            <h4>Chicken Fried Rice</h4>
                            <p>Flavorful fried rice with tender chicken pieces</p>
                            <div class="item-controls">
                                <span class="price">₹200</span>
                                <button class="add-to-cart">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>


        <!-- Order Summary at Bottom -->
        <div class="order-summary-bottom" id="order">
            <div class="order-summary">
                <h2>Your Order</h2>
                <div class="cart-items">
                    <!-- Cart items will be dynamically added here -->
                </div>
                <div class="order-total">
                    <h3>Total: ₹<span id="total-amount">0.00</span></h3>
                </div>

                <form class="order-form">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" required>
                    </div>
                    
                    <!-- Detailed Address Fields -->
                    <div class="form-group full-width">
                        <label for="street">Street Address:</label>
                        <textarea id="street" placeholder="House/Flat number, Building name, Area/Locality" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="village">Village/Locality:</label>
                        <input type="text" id="village" placeholder="Village or Locality name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="district">District:</label>
                        <input type="text" id="district" placeholder="District name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="state">State:</label>
                        <input type="text" id="state" placeholder="State name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="country">Country:</label>
                        <input type="text" id="country" value="India" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="pincode">Pin Code:</label>
                        <input type="text" id="pincode" placeholder="6-digit pin code" pattern="[0-9]{6}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="payment">Payment Method:</label>
                        <select id="payment" required>
                            <option value="">Select Payment</option>
                            <option value="card">Credit/Debit Card</option>
                            <option value="upi">UPI Payment</option>
                            <option value="cash">Cash on Delivery</option>
                        </select>
                    </div>
                    
                    <!-- Conditional UPI ID Field -->
                    <div class="form-group upi-field hidden">
                        <label for="upi-id">UPI ID:</label>
                        <input type="text" id="upi-id" placeholder="example@upi" pattern="[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
                    </div>
                    
                    <button type="submit" class="place-order">Place Order</button>
                </form>
            </div>
        </div>
    </main>


    <!-- Reusable Footer Component -->
    <div id="footer-container"></div>

    <!-- Optimized JavaScript -->
    <script src="assets/js/app-optimized.js"></script>
    
    <!-- Component Loader -->
    <script>
        // Load header and footer components
        Promise.all([
            fetch('components/header.html').then(r => r.text()),
            fetch('components/footer.html').then(r => r.text())
        ]).then(([headerHtml, footerHtml]) => {
            document.getElementById('header-container').innerHTML = headerHtml;
            document.getElementById('footer-container').innerHTML = footerHtml;
            
            // Execute component scripts
            const headerScript = document.createElement('script');
            headerScript.textContent = document.querySelector('#header-container script').textContent;
            document.head.appendChild(headerScript);
            
            const footerScript = document.createElement('script');
            footerScript.textContent = document.querySelector('#footer-container script').textContent;
            document.head.appendChild(footerScript);
        }).catch(error => {
            console.error('Error loading components:', error);
        });
    </script>

</body>
</html>
